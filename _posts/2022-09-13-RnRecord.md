---
layout: post
title: reactNative实际开发问题记录
categories: [reactNative]
description: reactNative实际开发问题记录
keywords: reactNative
excerpt: reactNative在开发中会遇到很多问题和知识点，好记性不如烂笔头，本文主要是记录开发中的一些技术点...  
---

ReactNative在开发中会遇到很多问题和知识点，好记性不如烂笔头，本文主要是记录开发中的一些技术点

## React Native中测量组件和视口顶部之间的距离方法

measure()测量是根据view标签中的ref属性

```javascript
class MyComponent extends React.Component {
  state = {
    containerHeight: 0
  };

  handleLayoutChange() {
    this.conainerView.measure(
      (x, y, width, height, left, top) => {
        // with：宽；height：高；left：x轴方向距离左边多少像素；top：y轴方向距离上边多少像素；
        this.setState({ containerHeight:height });
      }
    );
  }

  render() {
    return (
      <View
        onLayout={event => {
          this.handleLayoutChange(event);
        }}
        ref={view => {
          this.conainerView = view;
        }}
      >
        <Child containerHeight={this.state.containerHeight} />
      </View>
    );
  }
}
```

## TouchableHighlight在absolute的定位的情况下存在点击无反应的情况

这种情况需要在TouchableHighlight外层包裹一个view,用view去做元素定位，用TouchableHighlight去响应触摸操作，示例代码如下。

>注意TouchableHighlight只支持一个子节点（不能没有子节点也不能多于一个）。如果你希望包含多个子组件，可以用一个 View 来包装它们。


```javascript
<View
        style={{
          position: "absolute",
          right: 3,
          top: 3
        }}
      >
        <TouchableHighlight
          activeOpacity={1}
          underlayColor="rgba(0,0,0,0)"
          onPress={(e) => this.click()}
        >
          <View style={{ ...this.props.style }}>
            <View style={this.styles().spanLeft}>
              <View style={this.styles().spanRight}></View>
            </View>
          </View>
        </TouchableHighlight>
      </View>
```
